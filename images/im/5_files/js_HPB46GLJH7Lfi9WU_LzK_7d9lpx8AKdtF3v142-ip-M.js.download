(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.ckeditorAccordion={attach:function(context,settings){var $ckeditorAccordion=$('.ckeditor-accordion');if($ckeditorAccordion.length>0){$ckeditorAccordion.each(function(){var $accordion=$(this);if($accordion.hasClass('styled')){return;}
if(!drupalSettings.ckeditorAccordion.accordionStyle.collapseAll){$accordion.children('dt:first').addClass('active');$accordion.children('dd:first').addClass('active');$accordion.children('dd:first').css('display','block');}
$accordion.children('dt').each(function(){var $tab=$(this);var tabText=$tab.text().trim();var toggleClass=$tab.hasClass('active')?' active':'';$tab.html('<a class="ckeditor-accordion-toggler" href="#"><span class="ckeditor-accordion-toggle'+toggleClass+'"></span>'+tabText+'</a>');});$accordion.addClass('styled').removeClass('ckeditor-accordion').wrap('<div class="ckeditor-accordion-container"></div>');$accordion.trigger('ckeditorAccordionAttached');});$('body').once('ckeditorAccordionToggleEvent').on('click','.ckeditor-accordion-toggler',function(e){var $t=$(this).parent();var $parent=$t.parent();if($t.hasClass('active')){$t.removeClass('active');$t.next().slideUp();}
else{if(!drupalSettings.ckeditorAccordion.accordionStyle.keepRowsOpen){$parent.children('dt.active').removeClass('active').children('a').removeClass('active');$parent.children('dd.active').slideUp(function(){$(this).removeClass('active');});}
$t.addClass('active');$t.next().slideDown(300).addClass('active');}
e.preventDefault();});}}};})(jQuery,Drupal,drupalSettings);;(function($){Drupal.behaviors.qs_instant_registration={attach(context){$(".user-register-form").each((index,el)=>{let form=el,emler="Please provide a valid email address.",fn_ivm="Please only use letters for your first name.",fn_vm="First name valid.",ln_ivm="Please only use letters for your last name.",ln_vm="Last name valid.",eml_ivm="Please provide a valid email address.",eml_vm="Email valid.",p_ivm="Please use six characters and one numeral.",p_vm="Password valid.";const f=document.querySelectorAll(".user-register-form");for(let i=0;i<f.length;i++){f[i].addEventListener("invalid",event=>{event.preventDefault();},true);f[i].addEventListener("submit",function(event){if(!this.checkValidity()){event.preventDefault();}});}
if(!$(".messages",el).length){$('input[type="text"], [name="pass"], input[name="mail"]',el).next().after('<small class="messages hide"></small>');}
field_live_validate('[name="mail"]',eml_ivm,"",el);field_live_validate('[name="field_first_name[0][value]"]',fn_ivm,"",el);field_live_validate('[name="field_last_name[0][value]"]',ln_ivm,"",el);field_live_validate('[name="pass"]',p_ivm,"",el);$("input[type=submit]",el).on("click",function(){if($(this).hasClass("form-disabled")){return false;}
let invalidFields=$(form).find(":invalid"),validFields=$(form).find(":valid"),errorMessages=$(form).find(".messages"),parent,em,vm,am;for(var i=0;i<errorMessages.length;i++){errorMessages[i].parentNode.removeChild(errorMessages[i]);}
for(var i=0;i<invalidFields.length;i++){if(invalidFields[i].name){switch(invalidFields[i].name){case "field_first_name[0][value]":em="Please provide your first name.";vm=fn_ivm;break;case "field_last_name[0][value]":em="Please provide your last name.";vm=ln_ivm;break;case "mail":em="Please provide a valid email address.";vm=emler;break;case "pass":em="Enter your password.";vm=p_ivm;break;}
parent=invalidFields[i].parentNode;if(invalidFields[i].value===""){parent.insertAdjacentHTML("beforeend",`<small class="messages error">${em}</small>`);}else{parent.insertAdjacentHTML("beforeend",`<small class="messages error">${vm}</small>`);}}}
for(var i=0;i<validFields.length;i++){switch(validFields[i].name){case "field_first_name[0][value]":am=fn_vm;break;case "field_last_name[0][value]":am=ln_vm;break;case "mail":am=eml_vm;break;case "pass":am=p_vm;break;}
parent=validFields[i].parentNode;if(validFields[i].value&&am&&validFields[i].name!="op"){parent.insertAdjacentHTML("beforeend",'<small class="messages"></small>');}}
if(invalidFields.length>0){invalidFields[0].focus();}});function field_live_validate(s,em,vm,el){$(s,el).on("keyup click",function(){if($(this).val()){$(this).siblings(".messages").removeClass("hide");if($(this)[0].checkValidity()===false){$(this).siblings(".messages").html(em).addClass("error").removeClass("ok");}else{$(this).siblings(".messages").html(vm).addClass("ok").removeClass("error");}}else{$(this).siblings(".messages").html("").addClass("hide").removeClass("error ok");}});}});let errs="";$("form.user-register-form input").on("keyup click mouseout",()=>{errs=$("form.user-register-form").find(".error").length;if(errs<1){$('form.user-register-form input[name="op"]').prop("disabled",false);}else{$('form.user-register-form input[name="op"]').prop("disabled",true);}});$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");$('#user-login-form--2 input[name="name"]').on("input keyup",elem=>{let email_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=elem.target.value;const pass_val=$('#user-login-form--2 input[name="pass"]').val();if(email_regex.test(email_val)!==false&&pass_val.length>3){email_ok="valid";}else{email_ok="notvalid";}
if(email_ok==="valid"){$('#user-login-form--2 input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form--2 input[name="pass"]').on("input keyup",elem=>{elem.target.name;let pass_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=$('#user-login-form--2 input[name="name"]').val();const pass_val=elem.target.value;if(email_regex.test(email_val)!==false&&pass_val.length>3){pass_ok="valid";}else{pass_ok="notvalid";}
if(pass_ok==="valid"){$('#user-login-form--2 input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form--2 input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");$('#user-login-form input[name="name"]').on("input keyup",elem=>{let email_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=elem.target.value;const pass_val=$('#user-login-form input[name="pass"]').val();if(email_regex.test(email_val)!==false&&pass_val.length>3){email_ok="valid";}else{email_ok="notvalid";}
if(email_ok==="valid"){$('#user-login-form input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});$('#user-login-form input[name="pass"]').on("input keyup",elem=>{elem.target.name;let pass_ok="";const email_regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;const email_val=$('#user-login-form input[name="name"]').val();const pass_val=elem.target.value;if(email_regex.test(email_val)!==false&&pass_val.length>3){pass_ok="valid";}else{pass_ok="notvalid";}
if(pass_ok==="valid"){$('#user-login-form input[name="op"]').attr("disabled",false).removeClass("disabled");}else{$('#user-login-form input[name="op"]').attr("disabled",true).addClass("disabled");}
return false;});}};})(jQuery);;(function($,Drupal,drupalSettings){$(document).ready(function(){$.ajax({type:'POST',cache:false,url:drupalSettings.statistics.url,data:drupalSettings.statistics.data});});})(jQuery,Drupal,drupalSettings);;(function($,Drupal){Drupal.theme.progressBar=function(id){return '<div id="'+id+'" class="progress" aria-live="polite">'+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>';};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress:function setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').css('width',percentage+'%');$(this.element).find('div.progress__percentage').html(percentage+'%');}
$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback){this.updateCallback(percentage,message,this);}},startMonitoring:function startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring:function stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing:function sendPing(){if(this.timer){clearTimeout(this.timer);}
if(this.uri){var pb=this;var uri=this.uri;if(uri.indexOf('?')===-1){uri+='?';}else{uri+='&';}
uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success:function success(progress){if(progress.status===0){pb.displayError(progress.data);return;}
pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(function(){pb.sendPing();},pb.delay);},error:function error(xmlhttp){var e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError('<pre>'+e.message+'</pre>');}});}},displayError:function displayError(string){var error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}}});})(jQuery,Drupal);;(function(Drupal){Drupal.behaviors.responsiveImageAJAX={attach:function attach(){if(window.picturefill){window.picturefill();}}};})(Drupal);;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
(function($,window,Drupal,drupalSettings){Drupal.behaviors.AJAX={attach:function attach(context,settings){function loadAjaxBehavior(base){var elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined'){elementSettings.selector='#'+base;}
$(elementSettings.selector).once('drupal-ajax').each(function(){elementSettings.element=this;elementSettings.base=base;Drupal.ajax(elementSettings);});}
Object.keys(settings.ajax||{}).forEach(function(base){return loadAjaxBehavior(base);});Drupal.ajax.bindAjaxLinks(document.body);$('.use-ajax-submit').once('ajax').each(function(){var elementSettings={};elementSettings.url=$(this.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=$(this).attr('id');elementSettings.element=this;Drupal.ajax(elementSettings);});},detach:function detach(context,settings,trigger){if(trigger==='unload'){Drupal.ajax.expired().forEach(function(instance){Drupal.ajax.instances[instance.instanceIndex]=null;});}}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){var statusCode=void 0;var statusText=void 0;var responseText=void 0;if(xmlhttp.status){statusCode='\n'+Drupal.t('An AJAX HTTP error occurred.')+'\n'+Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status});}else{statusCode='\n'+Drupal.t('An AJAX HTTP request terminated abnormally.');}
statusCode+='\n'+Drupal.t('Debugging information follows.');var pathText='\n'+Drupal.t('Path: !uri',{'!uri':uri});statusText='';try{statusText='\n'+Drupal.t('StatusText: !statusText',{'!statusText':$.trim(xmlhttp.statusText)});}catch(e){}
responseText='';try{responseText='\n'+Drupal.t('ResponseText: !responseText',{'!responseText':$.trim(xmlhttp.responseText)});}catch(e){}
responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');var readyStateText=xmlhttp.status===0?'\n'+Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState}):'';customMessage=customMessage?'\n'+Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage}):'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only');}
var base=settings.base||false;var element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element){settings.progress=false;}
var ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter(function(instance){return instance&&instance.element!==false&&!document.body.contains(instance.element);});};Drupal.ajax.bindAjaxLinks=function(element){$(element).find('.use-ajax').once('ajax').each(function(i,ajaxLink){var $linkElement=$(ajaxLink);var elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}
Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){var defaults={event:element?'mousedown':null,keypress:true,selector:base?'#'+base:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper){this.wrapper='#'+this.wrapper;}
this.element=element;this.element_settings=elementSettings;this.elementSettings=elementSettings;if(this.element&&this.element.form){this.$form=$(this.element.form);}
if(!this.url){var $element=$(this.element);if($element.is('a')){this.url=$element.attr('href');}else if(this.element&&element.form){this.url=this.$form.attr('action');}}
var originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl]){drupalSettings.ajaxTrustedUrl[this.url]=true;}
var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit:function beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend:function beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success:function success(response,status,xmlhttprequest){if(typeof response==='string'){response=$.parseJSON(response);}
if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url]){if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}}
return ajax.success(response,status);},complete:function complete(xmlhttprequest,status){ajax.ajaxing=false;if(status==='error'||status==='parsererror'){return ajax.error(xmlhttprequest,ajax.url);}},dataType:'json',jsonp:false,type:'POST'};if(elementSettings.dialog){ajax.options.data.dialogOptions=elementSettings.dialog;}
if(ajax.options.url.indexOf('?')===-1){ajax.options.url+='?';}else{ajax.options.url+='&';}
var wrapper='drupal_'+(elementSettings.dialogType||'ajax');if(elementSettings.dialogRenderer){wrapper+='.'+elementSettings.dialogRenderer;}
ajax.options.url+=Drupal.ajax.WRAPPER_FORMAT+'='+wrapper;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url)){throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));}
return ajax.eventResponse(this,event);});if(elementSettings.keypress){$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});}
if(elementSettings.prevent){$(ajax.element).on(elementSettings.prevent,false);}};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing){return;}
try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert('An error occurred while attempting to process '+this.options.url+': '+e.message);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which===13||event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number'){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();var ajax=this;if(ajax.ajaxing){return;}
try{if(ajax.$form){if(ajax.setClick){element.form.clk=element;}
ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert('An error occurred while attempting to process '+ajax.options.url+': '+e.message);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}
options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;var pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}
$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type){return;}
var progressIndicatorMethod='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function'){this[progressIndicatorMethod].call(this);}};Drupal.theme.ajaxProgressThrobber=function(message){var messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';var throbber='<div class="throbber">&nbsp;</div>';return '<div class="ajax-progress ajax-progress-throbber">'+throbber+messageMarkup+'</div>';};Drupal.theme.ajaxProgressIndicatorFullscreen=function(){return '<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';};Drupal.theme.ajaxProgressMessage=function(message){return '<div class="message">'+message+'</div>';};Drupal.theme.ajaxProgressBar=function($element){return $('<div class="ajax-progress ajax-progress-bar"></div>').append($element);};Drupal.Ajax.prototype.setProgressIndicatorBar=function(){var progressBar=new Drupal.ProgressBar('ajax-progress-'+this.element.id,$.noop,this.progress.method,$.noop);if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}
if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}
this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.success=function(response,status){var _this=this;if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();var focusChanged=false;Object.keys(response||{}).forEach(function(i){if(response[i].command&&_this.commands[response[i].command]){_this.commands[response[i].command](_this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'){focusChanged=true;}}});if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>=0;n--){target=document.querySelector('[data-drupal-selector="'+elementParents[n].getAttribute('data-drupal-selector')+'"]');}
if(target){$(target).trigger('focus');}}
if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
this.settings=null;};Drupal.Ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=type+'Toggle';effect.hideEffect=type+'Toggle';effect.showSpeed=speed;}
return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=function($newContent,ajax,response){return(response.effect||ajax.effect)!=='none'&&$newContent.filter(function(i){return!($newContent[i].nodeName==='#comment'||$newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent));}).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;};Drupal.theme.ajaxWrapperMultipleRootElements=function($elements){return $('<div></div>').append($elements);};Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert:function insert(ajax,response){var $wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var settings=response.settings||ajax.settings||drupalSettings;var $newContent=$($.parseHTML(response.data,document,true));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}
$wrapper[method]($newContent);if(effect.showEffect!=='show'){$newContent.hide();}
var $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else if(effect.showEffect!=='show'){$newContent[effect.showEffect](effect.showSpeed);}
if($newContent.parents('html').length){$newContent.each(function(index,element){if(element.nodeType===Node.ELEMENT_NODE){Drupal.attachBehaviors(element,settings);}});}},remove:function remove(ajax,response,status){var settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed:function changed(ajax,response,status){var $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk){$element.find(response.asterisk).append(' <abbr class="ajax-changed" title="'+Drupal.t('Changed')+'">*</abbr> ');}}},alert:function alert(ajax,response,status){window.alert(response.text,response.title);},announce:function announce(ajax,response){if(response.priority){Drupal.announce(response.text,response.priority);}else{Drupal.announce(response.text);}},redirect:function redirect(ajax,response,status){window.location=response.url;},css:function css(ajax,response,status){$(response.selector).css(response.argument);},settings:function settings(ajax,response,status){var ajaxSettings=drupalSettings.ajax;if(ajaxSettings){Drupal.ajax.expired().forEach(function(instance){if(instance.selector){var selector=instance.selector.replace('#','');if(selector in ajaxSettings){delete ajaxSettings[selector];}}});}
if(response.merge){$.extend(true,drupalSettings,response.settings);}else{ajax.settings=response.settings;}},data:function data(ajax,response,status){$(response.selector).data(response.name,response.value);},invoke:function invoke(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,_toConsumableArray(response.args));},restripe:function restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id:function update_build_id(ajax,response,status){$('input[name="form_build_id"][value="'+response.old+'"]').val(response.new);},add_css:function add_css(ajax,response,status){$('head').prepend(response.data);},message:function message(ajax,response){var messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious){messages.clear();}
messages.add(response.message,response.messageOptions);}};})(jQuery,window,Drupal,drupalSettings);;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
(function(Drupal){Drupal.behaviors.flagAttach={attach:function attach(context){var links=[].concat(_toConsumableArray(context.querySelectorAll('.flag a')));links.forEach(function(link){return link.addEventListener('click',function(event){return event.target.parentNode.classList.add('flag-waiting');});});}};Drupal.AjaxCommands.prototype.actionLinkFlash=function(ajax,response,status){if(status==='success'){var para=document.createElement('P');para.innerText=response.message;para.setAttribute('class','js-flag-message');para.addEventListener('animationend',function(event){return event.target.remove();},false);document.querySelector(response.selector).appendChild(para);}else{var links=[].concat(_toConsumableArray(document.querySelectAll('.flag-waiting')));links.forEach(function(link){return link.classList.remove('flag-waiting');});}};})(Drupal);;(function($){Drupal.behaviors.ielts={attach(context,settings){function IELTS_Country_Links(IELTS_SEARCH_COUNTRY,redirect_uri){console.log("dataLayer Pushed!");dataLayer.push({'event':"IELTS_SEARCH_COUNTRY",'Redirect_URI':redirect_uri,'Page_Path':window.location.href});}
const $ielts_countries=[{value:"afghanistan",label:"Afghanistan",link:"https://www.britishcouncil.af/exam/ielts/dates-fees-locations"},{value:"albania",label:"Albania",link:"https://www.britishcouncil.al/en/exam/ielts/dates-fees-locations"},{value:"algeria",label:"Algeria",link:"https://www.britishcouncil.dz/en/exam/ielts/dates-fees-locations"},{value:"argentina",label:"Argentina",link:"https://argentina.britishcouncil.org/examen/ielts/fechas-precios-ubicaciones"},{value:"armenia",label:"Armenia",link:"https://www.britishcouncil.am/en/exam/ielts/dates-fees-locations"},{value:"australia",label:"Australia",link:"https://www.britishcouncil.org.au/exam"},{value:"austria",label:"Austria",link:"https://www.britishcouncil.at/en/exam/ielts/dates-fees-locations"},{value:"azerbaijan",label:"Azerbaijan",link:"https://www.britishcouncil.az/en/exam/ielts/dates-fees-locations"},{value:"bahrain",label:"Bahrain",link:"https://www.britishcouncil.bh/en/exam/ielts/dates-fees-locations"},{value:"bangladesh",label:"Bangladesh",link:"https://www.britishcouncil.org.bd/en/exam/ielts/dates-fees-locations"},{value:"belarus",label:"Belarus",link:"https://takeielts.britishcouncil.org/belarus"},{value:"belgium",label:"Belgium",link:"https://www.britishcouncil.be/exam/ielts/dates-fees-locations"},{value:"benin-republic",label:"Benin Republic",link:"https://takeielts.britishcouncil.org/benin"},{value:"bhutan",label:"Bhutan",link:"https://takeielts.britishcouncil.org/bhutan"},{value:"bosnia-and-herzegovina",label:"Bosnia and Herzegovina",link:"https://www.britishcouncil.ba/en/exam/ielts/dates-fees-locations"},{value:"botswana",label:"Botswana",link:"https://www.britishcouncil.co.bw/exam/ielts/dates-fees-locations"},{value:"brazil",label:"Brazil",link:"https://www.britishcouncil.org.br/en/exam/ielts/dates-fees-locations"},{value:"brunei",label:"Brunei",link:"https://takeielts.britishcouncil.org/brunei"},{value:"bulgaria",label:"Bulgaria",link:"https://www.britishcouncil.bg/en/exam/ielts/dates-fees-locations"},{value:"cambodia",label:"Cambodia",link:"https://takeielts.britishcouncil.org/cambodia"},{value:"cameroon",label:"Cameroon",link:"https://www.britishcouncil.cm/exam/ielts/dates-fees-locations"},{value:"canada",label:"Canada",link:"https://www.britishcouncil.ca/exam/ielts/dates-fees-locations"},{value:"caribbean",label:"Caribbean",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"chile",label:"Chile",link:"https://www.britishcouncil.cl/examen/ielts/fechas-precios-ubicaciones"},{value:"china",label:"China",link:"https://www.britishcouncil.cn/en/exams/ielts"},{value:"colombia",label:"Colombia",link:"https://www.britishcouncil.co/examen/ielts/fechas-precios-ubicaciones"},{value:"costa-rica",label:"Costa Rica",link:"https://takeielts.britishcouncil.org/costa-rica"},{value:"cote-divoire",label:"Cote dIvoire",link:"https://takeielts.britishcouncil.org/cote-divoire"},{value:"croatia",label:"Croatia",link:"https://www.britishcouncil.hr/en/exam/ielts/dates-fees-locations"},{value:"cyprus",label:"Cyprus",link:"https://www.britishcouncil.com.cy/exam/ielts/dates-fees-locations"},{value:"czech-republic",label:"Czech Republic",link:"https://www.britishcouncil.cz/en/exam/ielts/dates-fees-locations"},{value:"denmark",label:"Denmark",link:"https://takeielts.britishcouncil.org/denmark"},{value:"dominican-republic",label:"Dominican Republic",link:"https://takeielts.britishcouncil.org/dominican-republic"},{value:"ecuador",label:"Ecuador",link:"https://takeielts.britishcouncil.org/ecuador"},{value:"egypt",label:"Egypt",link:"https://www.britishcouncil.org.eg/en/exam/ielts/dates-fees-locations"},{value:"el-salvador",label:"El Salvador",link:"https://takeielts.britishcouncil.org/el-salvador"},{value:"estonia",label:"Estonia",link:"https://takeielts.britishcouncil.org/estonia"},{value:"ethiopia",label:"Ethiopia",link:"https://ethiopia.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"finland",label:"Finland",link:"https://takeielts.britishcouncil.org/finland"},{value:"france",label:"France",link:"https://www.britishcouncil.fr/en/exam/ielts/dates-fees-locations"},{value:"georgia",label:"Georgia",link:"https://www.britishcouncil.ge/en/exam/ielts/dates-fees-locations"},{value:"germany",label:"Germany",link:"https://www.britishcouncil.de/en/exam/ielts/dates-fees-locations"},{value:"ghana",label:"Ghana",link:"https://www.britishcouncil.org.gh/exam/ielts/dates-fees-locations"},{value:"greece",label:"Greece",link:"https://www.britishcouncil.gr/en/exam/ielts/dates-fees-locations"},{value:"honduras",label:"Honduras",link:"https://takeielts.britishcouncil.org/honduras"},{value:"hong-kong",label:"Hong Kong",link:"https://www.britishcouncil.hk/en/exam/ielts/dates-fees-locations"},{value:"hungary",label:"Hungary",link:"https://www.britishcouncil.hu/en/exam/ielts/dates-fees-locations"},{value:"india",label:"India",link:"https://www.britishcouncil.in/exam/ielts/dates-fees-locations"},{value:"indonesia",label:"Indonesia",link:"https://www.britishcouncil.id/en/exam"},{value:"iraq",label:"Iraq",link:"https://iraq.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"ireland",label:"Ireland",link:"https://takeielts.britishcouncil.org/ireland"},{value:"israel",label:"Israel",link:"https://www.britishcouncil.org.il/en/exam/ielts/book-test"},{value:"italy",label:"Italy",link:"https://www.britishcouncil.it/en/exam/ielts/dates-fees-locations"},{value:"jamaica",label:"Jamaica",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"japan",label:"Japan",link:"https://www.britishcouncil.jp/en/exam/ielts/test-dates-fees-locations"},{value:"jordan",label:"Jordan",link:"https://www.britishcouncil.jo/en/exam/ielts/dates-fees-locations"},{value:"kazakhstan",label:"Kazakhstan",link:"https://www.britishcouncil.kz/exam/ielts/dates-fees-locations"},{value:"kenya",label:"Kenya",link:"https://www.britishcouncil.co.ke/exam/ielts/dates-fees-locations"},{value:"korea",label:"Korea",link:"https://www.britishcouncil.kr/en/exam/ielts/dates-fees-locations"},{value:"kosovo",label:"Kosovo",link:"https://kosovo.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"kuwait",label:"Kuwait",link:"https://www.britishcouncil.com.kw/en/exam/ielts/dates-fees-locations"},{value:"kyrgyz-republic",label:"Kyrgyz Republic",link:"https://takeielts.britishcouncil.org/kyrgyz-republic"},{value:"latvia",label:"Latvia",link:"https://takeielts.britishcouncil.org/latvia"},{value:"lebanon",label:"Lebanon",link:"https://www.britishcouncil.org.lb/en/exam/ielts/dates-fees-locations"},{value:"libya",label:"Libya",link:"https://www.britishcouncil.ly/en/exam/ielts/dates-fees-locations"},{value:"lithuania",label:"Lithuania",link:"https://www.britishcouncil.lt/exam/ielts/dates-fees-locations"},{value:"luxembourg",label:"Luxembourg",link:"https://takeielts.britishcouncil.org/luxembourg"},{value:"macau",label:"Macau",link:"https://takeielts.britishcouncil.org/macau"},{value:"madagascar",label:"Madagascar",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations/madagascar"},{value:"malawi",label:"Malawi",link:"https://www.britishcouncil.mw/exam/ielts/dates-fees-locations"},{value:"malaysia",label:"Malaysia",link:"https://www.britishcouncil.my/exam/ielts/dates-fees-locations"},{value:"maldives",label:"Maldives",link:"https://takeielts.britishcouncil.org/maldives"},{value:"malta",label:"Malta",link:"https://takeielts.britishcouncil.org/malta"},{value:"mauritius",label:"Mauritius",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations"},{value:"mexico",label:"Mexico",link:"https://www.britishcouncil.org.mx/examen/ielts/reservar"},{value:"mongolia",label:"Mongolia",link:"https://takeielts.britishcouncil.org/mongolia"},{value:"morocco",label:"Morocco",link:"https://www.britishcouncil.ma/en/exam/ielts/dates-fees-locations"},{value:"mozambique",label:"Mozambique",link:"https://www.britishcouncil.org.mz/en/exam/ielts/dates-fees-locations"},{value:"myanmar",label:"Myanmar",link:"https://www.britishcouncil.org.mm/exam/ielts/dates-fees-locations"},{value:"namibia",label:"Namibia",link:"https://www.britishcouncil.na/exam/ielts/dates-fees-locations"},{value:"nepal",label:"Nepal",link:"https://www.britishcouncil.org.np/exam/ielts/dates-fees-locations"},{value:"netherlands",label:"Netherlands",link:"https://www.britishcouncil.nl/exam/ielts/dates-fees-locations"},{value:"new-zealand",label:"New Zealand",link:"https://www.britishcouncil.org.nz/exam/ielts/dates-fees-locations"},{value:"nigeria",label:"Nigeria",link:"https://www.britishcouncil.org.ng/exam/ielts/dates-fees-locations"},{value:"north-macedonia",label:"North Macedonia",link:"https://www.britishcouncil.mk/en/exam/ielts/dates-fees-locations"},{value:"northern-ireland",label:"Northern Ireland",link:"https://takeielts.britishcouncil.org/northern-ireland"},{value:"norway",label:"Norway",link:"https://takeielts.britishcouncil.org/norway"},{value:"occupied-palestinian-territories",label:"Occupied Palestinian Territories",link:"https://www.britishcouncil.ps/en/exam/ielts/dates-fees-locations"},{value:"oman",label:"Oman",link:"https://www.britishcouncil.om/en/exam/ielts/dates-fees-locations"},{value:"pakistan",label:"Pakistan",link:"https://www.britishcouncil.pk/exam/ielts/book-test"},{value:"panama",label:"Panama",link:"https://takeielts.britishcouncil.org/panama"},{value:"papua-new-guinea",label:"Papua New Guinea",link:""},{value:"paraguay",label:"Paraguay",link:"https://takeielts.britishcouncil.org/paraguay"},{value:"peru",label:"Peru",link:"https://www.britishcouncil.pe/examen/ielts/fechas-precios-ubicaciones"},{value:"philippines",label:"Philippines",link:"https://www.britishcouncil.ph/exam/ielts/dates-fees-locations"},{value:"poland",label:"Poland",link:"https://www.britishcouncil.pl/en/exam/ielts/dates-fees-locations"},{value:"portugal",label:"Portugal",link:"https://www.britishcouncil.pt/en/exam/ielts/dates-fees-locations"},{value:"qatar",label:"Qatar",link:"https://www.britishcouncil.qa/en/exam/ielts/dates-fees-locations"},{value:"romania",label:"Romania",link:"https://www.britishcouncil.ro/en/exam/ielts/dates-fees-locations"},{value:"russia",label:"Russia",link:"https://takeielts.britishcouncil.org/russia"},{value:"rwanda",label:"Rwanda",link:"https://www.britishcouncil.rw/exam/ielts/dates-fees-locations"},{value:"saudi-arabia",label:"Saudi Arabia",link:"https://www.britishcouncil.sa/en/exam/ielts/dates-fees-locations"},{value:"scotland",label:"Scotland",link:"https://takeielts.britishcouncil.org/scotland"},{value:"senegal",label:"Senegal",link:"https://www.britishcouncil.com.sn/en/exam/ielts/dates-fees-locations"},{value:"serbia",label:"Serbia",link:"https://www.britishcouncil.rs/en/exam/ielts/dates-fees-locations"},{value:"seychelles",label:"Seychelles",link:"https://www.britishcouncil.mu/exam/ielts/dates-fees-locations/seychelles"},{value:"sierra-leone",label:"Sierra Leone",link:"https://www.britishcouncil.sl/exam/ielts/dates-fees-locations"},{value:"singapore",label:"Singapore",link:"https://www.britishcouncil.sg/exam/ielts/dates-fees-locations"},{value:"slovakia",label:"Slovakia",link:"https://www.britishcouncil.sk/en/exam/ielts/dates-fees-locations"},{value:"slovenia",label:"Slovenia",link:"https://www.britishcouncil.si/en/exam/ielts/dates-fees-locations"},{value:"south-africa",label:"South Africa",link:"https://www.britishcouncil.org.za/exam/ielts/dates-fees-locations"},{value:"south-sudan",label:"South Sudan",link:"https://southsudan.britishcouncil.org/exam/ielts-register"},{value:"spain",label:"Spain",link:"https://www.britishcouncil.es/en/exam/ielts/dates-fees-locations"},{value:"sri-lanka",label:"Sri Lanka",link:"https://www.britishcouncil.lk/exam/ielts/dates-fees-locations"},{value:"sudan",label:"Sudan",link:"https://sudan.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"sweden",label:"Sweden",link:"https://takeielts.britishcouncil.org/sweden"},{value:"switzerland",label:"Switzerland",link:"https://www.britishcouncil.ch/exam/ielts/test-dates-fees-locations"},{value:"syria",label:"Syria",link:"https://syria.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"taiwan",label:"Taiwan",link:"https://www.britishcouncil.org.tw/en/exam/ielts/dates-fees-locations"},{value:"tajikistan",label:"Tajikistan",link:"https://takeielts.britishcouncil.org/tajikistan"},{value:"tanzania",label:"Tanzania",link:"https://www.britishcouncil.or.tz/exam/ielts/dates-fees-locations"},{value:"thailand",label:"Thailand",link:"https://www.britishcouncil.or.th/en/exam/ielts/dates-fees-locations"},{value:"trinidad-and-tobago",label:"Trinidad and Tobago",link:"https://caribbean.britishcouncil.org/exam/ielts/dates-fees-locations"},{value:"tunisia",label:"Tunisia",link:"https://www.britishcouncil.tn/en/exam/ielts/dates-fees-locations"},{value:"turkey",label:"Turkey",link:"https://www.britishcouncil.org.tr/en/exam/ielts/dates-fees-locations"},{value:"turkmenistan",label:"Turkmenistan",link:"https://takeielts.britishcouncil.org/turkmenistan"},{value:"uganda",label:"Uganda",link:"https://www.britishcouncil.ug/exam/ielts/dates-fees-locations"},{value:"ukraine",label:"Ukraine",link:"http://www.britishcouncil.org.ua/en/exam/ielts/dates-fees-locations"},{value:"united-arab-emirates",label:"United Arab Emirates",link:"https://www.britishcouncil.ae/en/exam/ielts/book-test"},{value:"united-kingdom",label:"United Kingdom",link:"https://takeielts.britishcouncil.org/united-kingdom"},{value:"united-states-america",label:"United States of America",link:"https://takeielts.britishcouncil.org/united-states-america"},{value:"uruguay",label:"Uruguay",link:"https://www.britishcouncil.uy/en"},{value:"uzbekistan",label:"Uzbekistan",link:"https://www.britishcouncil.uz/en/exam/ielts/test-dates-fees-location"},{value:"venezuela",label:"Venezuela",link:"https://www.britishcouncil.org.ve/examen/ielts/fechas-precios-ubicaciones"},{value:"vietnam",label:"Vietnam",link:"https://www.britishcouncil.vn/en/exam/ielts/dates-fees-locations"},{value:"wales",label:"Wales",link:"https://takeielts.britishcouncil.org/wales"},{value:"yemen",label:"Yemen",link:"https://yemen.britishcouncil.org/en/exam/ielts/dates-fees-locations"},{value:"zambia",label:"Zambia",link:"https://www.britishcouncil.org.zm/exam/ielts/dates-fees-locations"},{value:"zimbabwe",label:"Zimbabwe",link:"https://www.britishcouncil.co.zw/exam/ielts/dates-fees-locations"}];$("#ielts-select-list",context).mSelectDBox({list:$ielts_countries,multiple:false,name:"ielts",autoComplete:true,embeddedInput:false,language:"en",init(msdbContext,event){$.getJSON("/user/ielts",response=>{const button=$("#ielts-select-button");if(response){const list=$("#ielts-select-list");list.mSelectDBox("select",{value:[response]});button.click(()=>{if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;window.open(link,"_newtab");IELTS_Country_Links($("#ielts-select-list").val()[0],link);}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}});}else{button.addClass("disabled");button.attr("title","");$("#ielts-select-remove").addClass("hide");}});},onselect(msdbContext,event){$("#ielts-select-remove").removeClass("hide");const list=$("#ielts-select-list");list.removeClass("error").focus();const button=$("#ielts-select-button");$(this).parents().find(".fa-chevron-down").css({cursor:"pointer"});button.click(()=>{if(list.attr("data-msdb-value").length){button.removeClass("disabled");const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;window.open(link,"_newtab");}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}else{$(this).attr("title","");}});},onkeyup(msdbContext,event){const fnd=$ielts_countries.find(x=>x.label===$("#ielts-select-list").val());const list=$("#ielts-select-list");const button=$("#ielts-select-button");if(typeof fnd==="undefined"){list.attr("data-msdb-value","");button.click(()=>{if(list.attr("data-msdb-value").length===0&&$("#ielts-select-list").val()){button.removeClass("disabled");const link="https://takeielts.britishcouncil.org/take-ielts/book?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20";window.open(link,"_newtab");IELTS_Country_Links($("#ielts-select-list").val()[0],link);}});button.hover(function(){if(list.attr("data-msdb-value").length){const fnd=$ielts_countries.filter(x=>x.value===$("#ielts-select-list").val()[0]).map(x=>x.link);const link=`${fnd}?utm_source=QS_topuniversities&utm_medium=Topuni_profile&utm_campaign=QS_IELTS19-20`;$(this).attr("title",link);}else{$(this).attr("title","");}});}else{button.attr("title","");list.attr("data-msdb-value",$("#ielts-select-list").val());}},focus(msdbContext,event){if(!$("#ielts-select-list").attr("data-msdb-value").length){$(this).attr("placeholder","Select your location");$("#ielts-select-button").addClass("disabled");}}});$('.m-select-d-box.m-select-d-box_hidden[data-msdb-name="ielts"]').appendTo($(".ielts-content-wrapper .sf"));$("#ielts-select-button").click(function(){if($(this).hasClass("disabled")){$("#ielts-select-list").addClass("error");}
return false;});}};})(jQuery);;!function(a){"use strict";var b=function(a){this.init(a)};b.prototype={instances:[],_coldInit:0,get:function(a,b,c){return"string"==typeof a?(a=a.toLowerCase(),(c||void 0===c)&&(this.trigger("get"),this.trigger("get:"+a)),this._props[a]):void 0},set:function(a,b,c,d){if(!a)return this;if("object"==typeof a){var e=Object.create(null);for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=this.set(f,a[f],null,d));return this}if("string"!=typeof a)return this;a=a.toLowerCase();var g={value:b};return"undefined"==typeof d&&(d=!0),d&&(this.trigger("set",g),this.trigger("set:"+a,g),this.trigger("beforeSet:"+a,g)),this._props[a]=b,d&&this.trigger("afterSet:"+a,g),this},getInstances:function(b){if(!arguments.length)return this.instances;"object"!=typeof b&&(b=Object.create(null));var c,d=[],e=a.inArray(typeof b.name,["string","number"])>-1?b.name:null;for(c=0;c<this.instances.length;c++)(null===e||this.instances[c].get("name",void 0,!1)==e)&&d.push(this.instances[c]);return d},removeInstances:function(b){if("object"!=typeof b)return this;var c,d="string"!=typeof b.name?null:b.name,e=[];for(c=0;c<this.instances.length;c++)this.instances[c].get("name",void 0,!1)!=d?e.push(this.instances[c]):a(this.instances[c].get("dbox",void 0,!1)).detach();return this.instances=e,this},_targetEvents:{click:{name:"click",event:"click"},keydown:{name:"keydown",event:"keydown",dbox_input:!0},keyup:{name:"keyup",event:"keyup",dbox_input:!0},hover:{name:"hover",event:"hover"},focus:{name:"focus",event:"focus"},focusout:{name:"focusout",event:"focusout"},change:{name:"change",event:"change"}},_eventCheckInputEmpty:function(a){this.fx.isTextInput(a.target)&&!a.target.value.trim()&&this.trigger("input:empty",a)},_eventDefaultInputEmpty:function(){this.deselectAll()},_eventSetList:function(){var a=arguments[1];this.set("list",a.value,null,!1),this.reInitList()},_eventWindowResize:function(){for(var a=0;a<this.instances.length;a++)this.instances[a].isActive()&&(this.instances[a]._calcListContainerHeight(),this.instances[a].calcPosition())},_eventDefaultKeyUp:function(b){var c=this,d=c.get("target",null,!1),e=c.get("dbox_input",null,!1),f=b.keyCode,g=(c.get("list",null,!1),c.get("dbox",null,!1),b.currentTarget),h=[37,38,39,40,9,13,18,17,16,20,27];c._isDBoxInput(b.target)?c.fx.isTextInput(d)&&(d.value=e.value):g==d&&-1==a.inArray(b.keyCode,h)&&(e.value=d.value),clearTimeout(c._timers.autoComplete),c._timers.autoComplete=setTimeout(function(){var b,d,e;if(c.get("autoComplete",null,!1)&&a.inArray(f,h)<0&&(b=g.value.toLowerCase().split(/[;,]/gi),b=b[b.length-1],c.unhoverAllOpt(),c.applyAutoComplete(b),!c._isMobileState()&&c.calcPosition()),c.get("multiple",null,!1)&&8==f){for(b=c.fx.trim(g.value," ;,").split(/[,;]/gi),e=c.getSelectedKeys(),d=0;d<b.length;d++)b[d]=b[d].trim();c._selectByLabel(b,!0),c.applySelectedToList(c._getItemsByID(e.concat(c.getSelectedKeys())))}},500)},_eventDefaultKeyDownMultipleFalse:function(b){var c=this,d=this.get("selectedCache",null,!1),e=d[Object.keys(d)[0]],f=c.get("target",null,!1);if(!c.get("multiple",null,!1))if(a.inArray(b.keyCode,[37,39,9,18,17,16,20,27])>-1);else if(13==b.keyCode)c.isActive()?c.close():(c.open(),c._eventFocus.call(f,c,b));else if(a.inArray(b.keyCode,[38,39,40])>-1){if(!c.isActive())return;if(e)if(38==b.keyCode)e=c.selectPrevVisibleItem(e);else{if(40!=b.keyCode)return;e=c.selectNextVisibleItem(e)}else e=c.selectPrevVisibleItem(c.getFirstVisibleItem());c.calcScrollBarPosition(),b.listItem=e,c.trigger("select",b)}},_eventDefaultKeyDownMultipleTrue:function(b){var c,d=this,e=(d.get("list",null,!1),d.getHoveredItems()[0]);if(d.get("multiple")){if(a.inArray(b.keyCode,[37,39,9,18,17,16,20,27])>-1);else{if(13==b.keyCode){if(!e)return;return c=d.getSelectedKeys(),e.selected?d._deselectByID(e.id):d._selectByID(e.id),c=c.concat(d.getSelectedKeys()),d.applySelectedToInput(),d.applySelectedToList(d._getItemsByID(c)),b.listItem=e,void d.trigger("select",b)}(38==b.keyCode||40==b.keyCode)&&(e?(38==b.keyCode&&d.hoverPrevVisibleItem(e),40==b.keyCode&&d.hoverNextVisibleItem(e)):d.hoverItem(d.getFirstVisibleItem()))}d.calcScrollBarPosition()}},_eventFocus:function(b,c){var d,e,f,g=this,h=g.getSelectedKeys(),i=g.get("list",null,!1),j=(g.get("dbox",null,!1),c.currentTarget||(this instanceof Element?this:null));if(g.open(),g.fx.isTextInput(j))if(f=j.getAttribute("data-msdb-value"),f&&(f=f.trim()),f){for(f=f.split(/[;,]/gi),d=0;d<f.length;d++)f[d]=f[d].trim();g._selectByValue(f,!0)}else{for(e=g.fx.trim(j.value,",; ").split(/[;,]/gi),d=0;d<e.length;d++)e[d]=e[d].trim();g._selectByLabel(e,!0)}g.unhideAllOpt(),Object.keys(i).forEach(function(b){var c=i[b];"undefined"!=typeof j.type&&a.inArray(j.type.toLowerCase(),["submit","button"])>-1||a.inArray(j.tagName.toLowerCase(),["submit","body","select"])>-1||g.unhoverItem(c)}),h=h.concat(g.getSelectedKeys()),!g.get("freeWrite")&&g.applySelectedToInput(),g.applySelectedToList(g._getItemsByID(h)),g.calcScrollBarPosition(),g._calcListContainerHeight()},_onFocusOut:function(){this.get("multiple",null,!1)&&this.applySelectedToInput()},_initEvents:function(b){var c,d=(a("body").get(0),this),e={};this.events=Object.create(null);for(c in b)b.hasOwnProperty(c)&&"function"==typeof b[c]&&(e[c.replace(/^on/,"")]=b[c]);for(c in b.events)b.events.hasOwnProperty(c)&&"function"==typeof b.events[c]&&(e[c]=b.events[c]);for(c in e)e.hasOwnProperty(c)&&this.on(c,e[c]);this.on("keyup",function(a,b){d._eventCheckInputEmpty(b)}),this.on("change",function(a,b){d._eventCheckInputEmpty(b)}),this.on("input:empty",d._eventDefaultInputEmpty),this.on("focus",d._eventFocus),this.on("click",d._eventFocus),this.on("focusout",function(a,b){return b.relatedTarget?void(d._isDBoxInput(b.relatedTarget)||d._isDBoxElement(b.relatedTarget)||d._isTargetElement(b.relatedTarget)||d.close()):void(d._timers.focusoutInputs=setTimeout(function(){d.close()},250))}),this.on("focusout",this._onFocusOut),a(this.get("dbox_input")).bind("focus",function(){clearTimeout(d._timers.focusoutInputs)}),this.on("afterSet:list",this._eventSetList),d._isColdInit()&&window.addEventListener("resize",d._eventWindowResize.bind(d),!1)},_deactivateInstances:function(a){for(var b=0;b<this.instances.length;b++)this.instances[b]._isDBoxElement(a.target)||this.instances[b]._isTargetElement(a.target)||this.instances[b].isActive()&&this.instances[b].close()},_initTarget:function(){var b=this.get("target");b&&"object"==typeof b&&("string"==typeof b?(b=a(b).get(0),this.set("target",b,null,!1)):b instanceof Element?this.set("target",b,null,!1):b instanceof a&&this.set(b.get(0),null,!1))},trigger:function(b,c){if("string"!=typeof b)return this;if(b=b.toLowerCase(),"object"==typeof this.events[b]&&Array.isArray(this.events[b])){!c||c instanceof(window.CustomEvent||Function)==0&&c instanceof(window.Event||Function)==0&&c instanceof a.Event==0?c=a.Event(b,c):c instanceof a.Event==0&&(c=a.Event(b,c));for(var d=this.events[b],e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,this,c)}return this},on:function(b,c){var d=this,e=this.get("target",null,!1),f=this.get("dbox_input",null,!1);return"string"!=typeof b||"function"!=typeof c?this:(b=b.toLowerCase(),"object"==typeof this.events[b]&&Array.isArray(this.events[b])||(this.events[b]=[],this._targetEvents.hasOwnProperty(b)&&(a(e).bind(this._targetEvents[b].event,function(a){d.trigger(b,a)},null),this._targetEvents[b].dbox_input&&a(f).bind(this._targetEvents[b].event,function(a){d.trigger(b,a)},null))),this.events[b].push(c),this)},detectLanguage:function(){var a=(navigator.languages||[])[0]||navigator.language||navigator.systemLanguage||navigator.userLanguage||navigator.browserLanguage||"en-US";return a.split(/[-_]/gi)[0]},_lastLang:"",_texts:{".m-select-d-box-fade__outside-click-label-text":{ru:"Нажмите чтобы закрыть",en:"Tap to close"},".m-select-d-box__search-input":{ru:"Поиск",en:"Search"}},getText:function(a,b){return!b&&(b=this.get("language")||this.detectLanguage()),(this._texts[a]||{})[b]||""},setText:function(a,c,d){var e=!0,f=this instanceof b?!(e=!1)&&Object.getPrototypeOf(this):this;return!f._texts[c]&&(f._texts[c]={}),!d&&(d=!e&&this.get("language")||this.detectLanguage()),f._texts[c][d]=a,this},_globalElems:{fade:void 0},_globalStyles:function(){var a={".m-select-d-box":{position:"absolute",display:"block",width:"168px",padding:"8px",height:"auto","box-shadow":"0 10px 20px -5px rgba(0, 0, 0, 0.4)","background-color":"#FFF","border-radius":"3px",border:"1px solid #e6e6e6"},".m-select-d-box:after":{content:"''",position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"10px solid white",top:"-10px",left:"50%","margin-left":"-10px"},".m-select-d-box:before":{content:"''",position:"absolute","border-left":"11px solid transparent","border-right":"11px solid transparent","border-bottom":"11px solid #e6e6e6",top:"-11px",left:"50%","margin-left":"-11px"},".m-select-d-box_bottom:after":{content:"''",position:"absolute","border-left":"10px solid transparent","border-right":"9px solid transparent","border-bottom":"none","border-top":"10px solid white",top:"auto",bottom:"-10px",left:"50%","margin-left":"-10px"},".m-select-d-box_bottom:before":{border:"none"},".m-select-d-box__list-container":{position:"relative",margin:"0px",padding:"0px","max-height":"200px","overflow-x":"hidden"},".m-select-d-box__list-item":{position:"relative",padding:"5px","background-color":"none",color:"black",display:"block","line-height":"100%",cursor:"pointer","font-size":"12px"},".m-select-d-box__list-item:hover, .m-select-d-box__list-item_hover":{"background-color":"#e6e6e6"},".m-select-d-box__list-item_selected":{"background-color":"#C40056",color:"white"},".m-select-d-box__list-item_selected:hover, .m-select-d-box__list-item_selected.m-select-d-box__list-item_hover":{"background-color":"#DB2277"},".m-select-d-box__list-item_selected:before":{content:"':: '"},".m-select-d-box__list-item:active, .m-select-d-box__list-item_selected:active":{"background-color":"#b80000",color:"white"},".m-select-d-box__list-item_hidden":{display:"none"},".m-select-d-box__search-input":{border:"1px solid #a2a2a2",width:"100%","line-height":"100%","font-size":"14px","border-width":"0 0 2px 0",padding:"8px","box-sizing":"border-box"},".m-select-d-box__search-input-container":{"margin-bottom":"12px",display:"none"},".m-select-d-box__search-input-container_active":{display:"block"},".m-select-d-box-fade":{display:"none",width:0,height:0,left:0,top:0},".m-select-d-box-fade__outside-click-label":{position:"absolute",width:"100%",bottom:0,padding:"10px",background:"black",color:"white","text-align":"center","font-size":"1em","box-sizing":"border-box"},".m-select-d-box-fade__outside-click-label-text":{},".m-select-d-box-fade__outside-click-label-icon":{position:"relative","border-radius":"50%","margin-right":"5px",border:"2px solid white",display:"inline-block",height:"16px",width:"16px","vertical-align":"middle"},".m-select-d-box-fade__outside-click-label-icon:after":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},".m-select-d-box-fade__outside-click-label-icon:before":{content:"''",position:"absolute",top:"50%",left:"50%",height:"80%",width:"2px",transform:"rotate(-45deg)","margin-left":"-1px","margin-top":"-40%",background:"white"},"@media screen and (max-width: 640px)":{".m-select-d-box":{position:"fixed",width:"80% !important",padding:"0 !important",left:"10% !important",top:"5% !important","max-height":"90%","box-shadow":"none","border-radius":"0px","box-sizing":"border-box"},".m-select-d-box:after":{content:"none"},".m-select-d-box__list-container":{"max-height":"none"},".m-select-d-box__list-item":{padding:"1em","font-size":"1em"},".m-select-d-box__search-input-container":{"margin-bottom":"12px",display:"block"},".m-select-d-box__search-input":{"line-height":"1em","font-size":"1em",padding:"1em"},".m-select-d-box-fade":{width:"100%",height:"100%",position:"fixed",left:0,top:0,"background-color":"rgba(0, 0, 0, 0.33)",display:"block"}},"@media screen and (max-width: 740px)":{"@media screen and (min-resolution: 2dppx)":{}},".m-select-d-box_hidden":{display:"none"}};return a["@media screen and (max-width: 740px)"]["@media screen and (min-resolution: 2dppx)"]=a["@media screen and (max-width: 640px)"],a}(),_initStyles:function(){return a("#m-select-d-box-style").length||this._buildStyles(),this},_buildStyles:function(){var b=a("body"),c=function(a){var b,d,e="";for(b in a)if(Object.prototype.hasOwnProperty.call(a,b))if(b.match(/^@media/))e+=b+" {"+c(a[b])+"} ";else{e+=b+" {";for(d in a[b])Object.prototype.hasOwnProperty.call(a[b],d)&&(e+=d+":"+a[b][d]+";");e+="} "}return e},d=c(this._globalStyles),e=a("#m-select-d-box-style");return e.length||(e=a("<style />"),e.attr("id","m-select-d-box-style"),b.append(e)),e.html(d),this},_initProps:function(b){var c,d,e,f={},g=[{key:"name",type:"string"},{key:"list",type:"array"},{key:"autoApply",type:"any",into:"boolean"},{key:"autoPosition",type:"any",into:"boolean"},{key:"autoComplete",type:"any",into:"boolean"},{key:"target",type:"object"},{key:"multiple",type:"any",into:"boolean"},{key:"zIndex",type:"numeric",into:"integer"},{key:"width",type:"any"},{key:"embeddedInput",type:"any",into:"boolean"},{key:"optionFilters",type:"array"},{key:"closeButton",type:"boolean"},{key:"language",type:"string","default":this.detectLanguage()},{key:"freeWrite",type:"any",into:"boolean"}];for(c=0;c<g.length;c++)g[c].key=g[c].key.toLowerCase(),"default"in g[c]&&(f[g[c].key]=g[c]["default"]);if(this.set(f),"object"==typeof b){for(e in b)if(b.hasOwnProperty(e)){var h=e.toLowerCase(),i=null;for(d=0;d<g.length;d++)if(g[d].key.toLowerCase()==h){i=g[d];break}if(i){if("any"==i.type);else if("array"==i.type){if(!Array.isArray(b[e]))throw new Error("Argument data type mismatch (key: '"+e+"')")}else if("numeric"==i.type){if(isNaN(b[e]))throw new Error("Argument data type mismatch (key: '"+e+"')")}else if(i.type!=typeof b[e])throw new Error("Argument data type mismatch (key: '"+e+"')");i.hasOwnProperty("into")&&("boolean"==i.into?b[e]=Boolean(b[e]):"integer"==i.into?b[e]=parseInt(b[e]):"float"==i.into&&(b[e]=parseFloat(b[e]))),"width"==e&&(b[e]="undefined"==typeof b.width?"min":a.inArray(b.width,["min","auto"])>-1?b.width:parseInt(b.width)),this.set(h,b[e])}}this.set({firstItem:void 0,lastItem:void 0,hoveredCache:Object.create(null),selectedCache:Object.create(null),valuesCache:Object.create(null),labelsCache:Object.create(null)},null,!1)}},_initElements:function(){var b=a("body").get(0);this._globalElems.fade||(this._globalElems.fade=a('<div class="m-select-d-box-fade m-select-d-box_hidden"><div class="m-select-d-box-fade__outside-click-label"><div class="m-select-d-box-fade__outside-click-label-icon"></div><span class="m-select-d-box-fade__outside-click-label-text">'+this.getText(".m-select-d-box-fade__outside-click-label-text")+"<span></div></div>").get(0),b.appendChild(this._globalElems.fade));var c=document.createElement("div");this.set("dbox",c),c.className="m-select-d-box m-select-d-box_hidden";var d=a('<div class="m-select-d-box__search-input-container"><input class="m-select-d-box__search-input" placeholder="'+this.getText(".m-select-d-box__search-input")+'" type="text"></div>').get(0);this.set("dbox_input",a("input",d).get(0)),c.appendChild(d),Boolean(this.get("embeddedInput"))&&(d.className+=" m-select-d-box__search-input-container_active"),this.set("dbox",c),this.get("zIndex")&&(c.style.zIndex=this.get("zIndex")),c.appendChild(a('<ul class="m-select-d-box__list-container"></ul>').get(0));var e=this.get("width");"auto"==e?c.style.width=this.get("target").clientWidth+"px":"min"==e||(c.style.width=e+"px"),b.appendChild(c)},_initList:function(){var b=this.get("list",null,!1);if(!a.isArray(b))return this.set("list",[],null,!1),!1;var c,d,e,f=Object.create(null),g=Object.create(null),h=this,i=this.get("dbox",null,!1),j=a(".m-select-d-box__list-container",i).get(0);for(!this._onItemClick&&(this._onItemClick=function(a){clearTimeout(h._timers.focusoutInputs);var b=this.getAttribute("data-msdbid"),c=h.get("list",null,!1),d=h.getSelectedKeys().concat(b);h.get("multiple",null,!1)?c[b].selected?h._deselectByID(b):h._selectByID(b,!1):h._selectByID(b,!0),h.applySelectedToInput(),h.applySelectedToList(h._getItemsByID(d)),a.listItem=c[b],h.trigger("select",a),h.calcPosition(),h.get("multiple",null,!1)||h.close()}),!this._onMouseLeave&&(this._onMouseLeave=function(){var b=a(this);b.hasClass("m-select-d-box__list-item_hover")&&b.removeClass("m-select-d-box__list-item_hover")}),j.innerHTML="",c=0;c<b.length;c++)if([b[c]]+""){if(a.inArray(typeof b[c],["number","string"])>-1)b[c]={value:b[c]+"",label:b[c]+"",selected:!1};else{if("object"!=typeof b[c]||!this.fx.hop(b[c],"value")||!this.fx.hop(b[c],"label"))continue;"undefined"==typeof b[c].selected?b[c].selected=!1:b[c].selected=Boolean(b[c].selected),b[c].value+="",b[c].label+=""}b[c].id=c,g[b[c].value]=b[c],f[b[c].label]=b[c],e&&(e.next=b[c],b[c].prev=e),e=b[c],d=b[c],d.isHovered=!1,d.elem=document.createElement("li"),d.elem.className="m-select-d-box__list-item",d.elem.setAttribute("data-msdbid",c+""),d.$elem=a(d.elem),a(d.elem).bind("click",this._onItemClick,null),a(d.elem).bind("mouseleave",this._onMouseLeave,null),d.elem.innerHTML=d.label,j.appendChild(d.elem)}this.set("firstItem",b[0],null,!1),this.set("lastItem",b[b.length-1],null,!1),this.set("labelsCache",f,null,!1),this.set("valuesCache",g,null,!1)},init:function(b){this._props=Object.create(null);var c=this,d=a("body").get(0);this.events=Object.create(null),this._initProps(b),this._initTarget(),this._initElements(),this._initEvents(b),this._initList(),this._initStyles(),this._timers=Object.create(null),this._timers.autoComplete=null,this._timers.focusedInputs=null,this._timers.focusoutInputs=null;var e=this.get("target",null,!1),f=this.get("dbox",null,!1);c.get("name",null,!1)&&(e.setAttribute("data-msdb-name",c.get("name",null,!1)),f.setAttribute("data-msdb-name",c.get("name",null,!1))),c.on("keydown",function(a,b){c._eventDefaultKeyDownMultipleFalse(b),c._eventDefaultKeyDownMultipleTrue(b)}),c.on("keyup",function(a,b){c._eventDefaultKeyUp(b)}),c.get("optionFilters",null,!1)||c.set("optionFilters",[c.defaultOptionFilters["default"]],null,!1),c._isColdInit()&&a(d).bind("click",function(a){c._deactivateInstances(a)},null),this.instances.push(this),c.trigger("init")},_applyLang:function(b){this._lastLang!=b&&(Object.getPrototypeOf(this)._lastLang=b,a(this._globalElems.fade).find(".m-select-d-box-fade__outside-click-label-text").html(this.getText(".m-select-d-box-fade__outside-click-label-text")))},calcPosition:function(){var b=this,c=a("body").get(0),d=this.get("target",null,!1),e=this.get("dbox",null,!1),f=a(e),g=a(d).offset(),h=d.clientWidth,i=d.clientHeight,j=e.clientWidth;f.removeClass("m-select-d-box_bottom"),e.style.left=g.left+h/2-(j+2*b._globalStyles[".m-select-d-box"].padding.replace(/[px]/gi,""))/2+"px";var k=window.scrollY||c.scrollTop;e.clientHeight+g.top+i+12-k>window.innerHeight?(e.style.top=g.top-12-e.clientHeight+"px",f.addClass("m-select-d-box_bottom")):e.style.top=g.top+i+12+"px"},calcScrollBarPosition:function(){var b=this.get("dbox",null,!1),c=a(".m-select-d-box__list-container",b).get(0),d=this.get("multiple",null,!1)?this.getHoveredItems()[0]:this.getSelectedItems()[0];if(d){var e=d.$elem.position().top+c.scrollTop;return e<c.clientHeight/2?c.scrollTop=0:void(c.scrollTop=e-c.clientHeight/2)}},_calcListContainerHeight:function(){var b=a(this.get("dbox",null,!1)).find(".m-select-d-box__list-container").get(0);if(this._isMobileState()){var c=window.innerHeight/100;return b.style.maxHeight=90*c-64-40+"px"}b.style.maxHeight&&(b.style.maxHeight="")},_isDBoxElement:function(b){var c=this.get("dbox",null,!1);return!!a(c).find(b).length||c==b},_isTargetElement:function(b){var c=this.get("target",null,!1);return!!a(c).find(b).length||c==b},_isDBoxInput:function(a){return this.get("dbox_input")===a},_isMobileState:function(){return window.innerWidth<=640||window.innerWidth<=740&&this.fx.isHDensScreen()},_isBoxBottomState:function(){var a=this.get("dbox",null,null);return Boolean(a.className.match(new RegExp("m-select-d-box_bottom")))},_isColdInit:function(){return!this.instances.length},getHoveredItems:function(){var a=this.get("hoveredCache",null,!1);return Object.keys(a).map(function(b){return a[b]})},getSelectedKeys:function(){return Object.keys(this.get("selectedCache",null,!1))},getSelectedValues:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b].value})},getSelectedLabels:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b].label})},getSelectedItems:function(){var a=this.get("selectedCache",null,!1);return Object.keys(a).map(function(b){return a[b]})},hasValue:function(a){var b=this.get("valuesCache",null,!1);return!!b[a]},hasLabel:function(a){var b=this.get("labelsCache",null,!1);return!!b[a]},applySelectedToList:function(b){return!b&&(b=this.get("list",null,!1)),Object.keys(b).forEach(function(c){b[c]&&a.fn[b[c].selected?"addClass":"removeClass"].call([b[c].elem],"m-select-d-box__list-item_selected")}),this},applySelectedToInput:function(){var b=this,c=b.getSelectedValues(),d=b.getSelectedLabels(),e=this.get("target",null,!1),f=this.get("dbox_input",null,!1);f.value=d.join("; ")+(d.length&&this.get("multiple")?";":"");var g=e.tagName.toLowerCase();if("input"==g)b.fx.isTextInput(e)&&(e.value=f.value);else if("textarea"==g)e.value=d.join(";\n")+(d.length&&this.get("multiple")?";\n":"");else if("select"==g)for(var h=0;h<e.options.length;h++)e.options[h].selected=a.inArray(e.options[h].value,c)>-1;return e.setAttribute("data-msdb-value",c.join(";")+(c.length&&this.get("multiple",null,!1)?";":"")),this},select:function(a){var b=this.getSelectedKeys();return this._select(a),this.applySelectedToList(this._getItemsByID(b.concat(this.getSelectedKeys()))),this.applySelectedToInput(),this},_select:function(b){if("object"==typeof b&&!a.isArray(b)){var c,d,e=!0;if("blank"in b&&(e=!!b.blank),"id"in b)return void this._selectByID(b.id,e);if("value"in b)c=b.value,d="value";else{if(!("label"in b))return;c=b.label,d="label"}return c=[].concat(c),!this.get("multiple",null,!1)&&c.length>1?null:void("value"==d?this._selectByValue(c,e):"label"==d&&this._selectByLabel(c,e))}},_selectByValue:function(a,b){b&&this._deselectAll();var c,d=this.get("valuesCache",null,!1),e=this.get("selectedCache",null,!1);for(c=0;c<a.length;c++)this.fx.hop(d,a[c])&&(d[a[c]].selected=!0,e[d[a[c]].id]=d[a[c]])},_selectByLabel:function(a,b){b&&this._deselectAll();var c,d=this.get("labelsCache",null,!1),e=this.get("selectedCache",null,!1);for(c=0;c<a.length;c++)this.fx.hop(d,a[c])&&(d[a[c]].selected=!0,e[d[a[c]].id]=d[a[c]])},deselect:function(a){var b=this.getSelectedKeys();return this._deselect(a),this.applySelectedToList(this._getItemsByID(b.concat(this.getSelectedKeys()))),this.applySelectedToInput(),this},_deselect:function(b){return a.isPlainObject(b)?"value"in b?this._deselectByValue([].concat(b.value)):"label"in b?this._deselectByLabel([].concat(b.label)):void("id"in b&&this._deselectByID(b.id)):void 0},_deselectByValue:function(a){a=[].concat(a);var b,c,d,e=this.get("valuesCache",null,!1),f=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c=a[b],this.fx.hop(e,c)&&(d=e[c].id,e[c].selected=!1,delete f[d])},_deselectByLabel:function(a){a=[].concat(a);var b,c,d,e=this.get("labelsCache",null,!1),f=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c=a[b],this.fx.hop(e,c)&&(d=e[c].id,e[c].selected=!1,delete f[d])},_getItemsByID:function(a){var b,c=Object.create(null),d=this.get("list",null,!1);for(b=0;b<a.length;b++)c[a[b]]=d[a[b]];return c},hideItem:function(a){return a.$elem.addClass("m-select-d-box__list-item_hidden"),this},unhideItem:function(a){return a.$elem.removeClass("m-select-d-box__list-item_hidden"),this},unhideAllItems:function(){a(this.get("dbox")).find(".m-select-d-box__list-item_hidden").removeClass("m-select-d-box__list-item_hidden")},isVisibleItem:function(a){return!a.$elem.hasClass("m-select-d-box__list-item_hidden")},hoverItem:function(a){var b=this.get("hoveredCache",null,!1);return a.isHovered=!0,a.$elem.addClass("m-select-d-box__list-item_hover"),b[a.id]=a,this},unhoverItem:function(a){var b=this.get("hoveredCache",null,!1);return a.isHovered=!1,a.$elem.removeClass("m-select-d-box__list-item_hover"),delete b[a.id],this},unhoverAllItems:function(){var a=this.get("hoveredCache",null,!1);return Object.keys(a).forEach(function(b){this.unhoverItem(a[b])},this),this},hoverNextVisibleItem:function(a){var b=this.getNextVisibleItem(a);return b&&(this.unhoverItem(a),this.hoverItem(b)),this},hoverPrevVisibleItem:function(a){var b=this.getPrevVisibleItem(a);return b&&(this.unhoverItem(a),this.hoverItem(b)),this},getNextVisibleItem:function(a){return a.next?this.isVisibleItem(a.next)?a.next:this.getNextVisibleItem(a.next):void 0},getPrevVisibleItem:function(a){return a.prev?this.isVisibleItem(a.prev)?a.prev:this.getPrevVisibleItem(a.prev):void 0},selectNextVisibleItem:function(a){var b=this.getSelectedItems();return a=this.getNextVisibleItem(a),a||(a=arguments[0]),this._selectByID(a.id,!0),this.applySelectedToInput(),this.applySelectedToList(b.concat(this.getSelectedItems())),a},selectPrevVisibleItem:function(a){var b=this.getSelectedItems();return a=this.getPrevVisibleItem(a),a||(a=arguments[0]),this._selectByID(a.id,!0),this.applySelectedToInput(),this.applySelectedToList(b.concat(this.getSelectedItems())),a},getLastVisibleItem:function(){var a=this.get("lastItem",null,!1);return!this.isVisibleItem(a)&&this.getPrevVisibleItem(a)||a},getFirstVisibleItem:function(){var a=this.get("firstItem",null,!1);return!this.isVisibleItem(a)&&this.getNextVisibleItem(a)||a},_selectByID:function(a,b){a=[].concat(a);var c,d=this.get("list",null,!1),e=this.get("selectedCache",null,!1);for(b&&this._deselectAll(),c=0;c<a.length;c++)d.hasOwnProperty(a[c])&&(d[a[c]].selected=!0,e[a[c]]=d[a[c]])},_deselectByID:function(a){a=[].concat(a);var b,c=this.get("list",null,!1),d=this.get("selectedCache",null,!1);for(b=0;b<a.length;b++)c.hasOwnProperty(a[b])&&(c[a[b]].selected=!1,delete d[a[b]])},_optionFiltersMatcher:function(b,c,d){if(arguments.length<3)return!0;if("function"==typeof b&&(b=[b]),!a.isArray(b))return!1;for(var e=0;e<b.length;e++)if(b[e].call(this,c,d))return!0;return!1},defaultOptionFilters:{"default":function(a,b){if("string"!=typeof a||"string"!=typeof b)return!1;var c=new RegExp(a.toLowerCase().trim());return b=b.toString().toLowerCase(),Boolean(b.match(c))},russianKeyboard:function(a,b){if("string"!=typeof a||"string"!=typeof b)return!1;for(var c={"`":"ё","~":"ё",q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","{":"х","]":"ъ","}":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж",":":"э","'":"э",'"':"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б","<":"б",".":"ю",">":"ю"},d=a.toLowerCase().split(""),e=0,f=d.length;f>e;e++)c.hasOwnProperty(d[e])&&(d[e]=c[d[e]]);return this.defaultOptionFilters["default"](d.join(""),b)}},applyAutoComplete:function(a){var b=this.get("list",null,!1);return a?Object.keys(b).forEach(function(c){this._optionFiltersMatcher(this.get("optionFilters",null,!1),a,b[c].label)?this.unhideItem(b[c]):this.hideItem(b[c])},this):this.unhideAllOpt(),this},deselectAll:function(){return this._deselectAll(),this.applySelectedToList(),this.applySelectedToInput(),this},_deselectAll:function(){var a=this.get("selectedCache",null,!1);Object.keys(a).forEach(function(b){a[b].selected=!1,delete a[b]})},selectAll:function(){if(!this.get("multiple",null,!1))return this;var a,b,c=this.get("selectedCache",null,!1),d=this.get("list",null,!1),e=Object.keys(d);for(a=0;a<e.length;a++)b=e[a],d[b].selected=!0,c[b]=d[b];return this.applySelectedToList(),this.applySelectedToInput(),this},isActive:function(){var b=this.get("dbox",null,null);return 0==a(b).hasClass("m-select-d-box_hidden")},reInitList:function(){this._initList();var a,b,c=(this.get("list"),this.get("selectedCache",null,!1)),d=this.get("valuesCache",null,!1),e=this.get("labelsCache",null,!1),f=this.get("hoveredCache",null,!1),g=Object.keys(c);for(a=0;a<g.length;a++)b=g[a],d[c[b].value]&&e[c[b].label]?(c[b]=d[c[b].value],c[b].selected=!0):delete c[b];Object.keys(f).forEach(function(a){f.isHovered=!1,delete f[a]}),this.applySelectedToInput(),this.applySelectedToList()},close:function(){var b=this.get("dbox",null,!1);return a(b).addClass("m-select-d-box_hidden"),this._closeFade(),this.unhoverAllItems(),this},open:function(){var b=this.get("dbox",null,!1);return a(b).removeClass("m-select-d-box_hidden"),this.calcPosition(),this._openFade(),this._applyLang(this.get("language",null,!1)),this._isMobileState()&&this.get("dbox_input").focus(),this},_openFade:function(){a(this._globalElems.fade).removeClass("m-select-d-box_hidden")},_closeFade:function(){a(this._globalElems.fade).addClass("m-select-d-box_hidden")},destroy:function(){var b=this,c=this.get("target",null,0),d=Object.getPrototypeOf(this);c.removeAttribute("data-msdb-name"),c.removeAttribute("data-msdb-value"),this.set("target",void 0,null,!1),a(this.get("dbox")).remove(),d.instances=a.grep(d.instances,function(a){return a!=b})},fx:{isTextInput:function(b){if(b instanceof Node==!1)return!1;var c=b.tagName.toLowerCase();if("input"==c){if(b.type&&a.inArray(b.type.toLowerCase(),["text","password","email","url","search","tel"])>-1)return!0}else if("textarea"==c)return!0;return!1},isHDensScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3||!1},isRetinaScreen:function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>=2||!1},msplit:function(a,b){return b=b.replace(new RegExp("["+a.join("")+"]","g"),a[0]),b.split(a[0])},trim:function(a,b,c){var d=[];return c&&"left"!=c||d.push("^["+b+"]+"),c&&"right"!=c||d.push("["+b+"]+$"),a.replace(new RegExp(d.join("|"),"g"),"")},rest:function(a,b){return"object"!=typeof a?[]:"number"!=typeof b?[]:Array.prototype.slice.call(a,b)},hop:function(a,b){return"hasOwnProperty"in a?Object.prototype.hasOwnProperty.call(a,b):b in a}}},b.prototype.unhoverAllOpt=b.prototype.unhoverAllItems,b.prototype.unhideAllOpt=b.prototype.unhideAllItems;var c={open:1,close:1,isActive:1,get:1,set:1,select:1,selectAll:1,deselectAll:1,on:1,trigger:1,getSelectedLabels:1,getSelectedValues:1,getSelectedKeys:1,getText:1,setText:1},d={open:1,close:1,set:1,select:1,selectAll:1,deselectAll:1,on:1,trigger:1,setText:1},e=a.fn.val;a.fn.extend({val:function(a){return this.attr("data-msdb-value")?a?this.mSelectDBox().select({value:a})&&this:this.mSelectDBox().getSelectedValues():e.apply(this,arguments)},mSelectDBox:function(a){if(this.length){var e,f,g,h=b.prototype.getInstances(),i=void 0,j=this[0];for(e=0;e<h.length;e++)if(h[e].get("target")==j){i=h[e];break}if(!arguments.length)return i;if("string"==typeof a){if(c[a]&&(g=b.prototype.fx.rest(arguments,1),"function"==typeof i[a]))return f=i[a].apply(i,g),d[a]?this:f}else if("object"==typeof a)return a.target=this[0],new b(a);return this}}}),a.prototype.mSelectDBox.prototype=b.prototype}(jQuery);;(function($){Drupal.behaviors.qna_forums={attach:function(context,settings){$(document).ready(function(){});$("._openloginmodal_js").on("click",function(){});$(".comment-forbidden").on("click",function(){$("#user_register").trigger("click");});$.each($(".action-links.nav-link"),function(index,value){if($(value).find("a").attr("data-drupal-link-system-path")=="node/add/forum"){$("._addnewtopicsjs").attr("href",$(value).find("a").attr("href"));}});$(".button--danger").click(function(e){var entity_id=$(".flagging-report-buse-edit-form.flagging-form").attr("action");entity_id=entity_id.replace(/[^0-9]/g,'');$.ajax({method:"GET",url:"/unreport-spam/"+entity_id}).done(function(data){window.location.reload();});e.preventDefault();$("form").submit(function(e){e.preventDefault();});$(".ui-dialog-titlebar-close").trigger("click");});$("#edit-submit--2").click(function(e){if($.trim($("#edit-subject-0-value").val())!==""&&$.trim($("#edit-field-comments-0-value").val())!==""){e.preventDefault();}
$(".comment-comment-article-form.comment-form").submit(function(e){if($.trim($("#edit-subject-0-value").val())!==""&&$.trim($("#edit-field-comments-0-value").val())!==""){e.preventDefault();}});});$(".flagging-report-buse-add-form").on("submit",()=>{var report_cause=$(".flagging-report-buse-add-form").find(".jcf-radio.jcf-checked").parent().text();var permalink=$(".flagging-report-buse-add-form").attr("action");permalink=permalink.replace(/[^0-9]/g,'');permalink="/comment/"+permalink;$.ajax({method:"POST",url:"/report-spam",data:JSON.stringify({report_cause:report_cause,permalink:permalink}),}).done(function(data){console.log(data)});});},sorting(dis,sortby){let ascdesc="asc";if($(dis).hasClass("down")){ascdesc="desc";}
$(".title-header_js").removeClass("up").addClass("down");if(ascdesc=="desc"){var result=$('.forum-topic-listing').sort(function(a,b){var contentA=$(a).data(sortby);var contentB=$(b).data(sortby);if(sortby=="alpha"){return contentA.localeCompare(contentB);}else{contentA=parseInt(contentA);contentB=parseInt(contentB);return(contentA<contentB)?-1:(contentA>contentB)?1:0;}});$(dis).addClass("up").removeClass("down");}else{var result=$('.forum-topic-listing').sort(function(a,b){var contentA=$(a).data(sortby);var contentB=$(b).data(sortby);if(sortby=="alpha"){return contentB.localeCompare(contentA);}else{contentA=parseInt(contentA);contentB=parseInt(contentB);return(contentA>contentB)?-1:(contentA<contentB)?1:0;}});$(dis).addClass("down").removeClass("up");}
$('#forum-topic-listing-id').html(result);}}})(jQuery);;(function($,Drupal){Drupal.behaviors.tu_qs={attach(context,settings){$('.article_node_template').each(function(){$(this).find('.layout--threecol-section--33-34-33').first().addClass('_article_new_layout');});$(document).ready(()=>{const parentElement=$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first");const stickyElement=$(".layout__region--first .block-addtoany-block, .layout__region--third .block.block-dfp");const container=$(".node.node--type-article .article_node_template>._article_new_layout");const header=$(".node.node--type-article .article_node_template>.layout--onecol .layout__region");let embedHeight=0;$(".dynamic-block-articles").each(function(){embedHeight+=$(this).height();});const containerHeight=`${container.height()}px`;const mediaBreakPoint="(max-width: 980px)";const height=stickyElement.height();const heightString=`${height}px`;const widthString=`${stickyElement.width()}px`;const headerHeight=`${header.height()}px`;$.fn.isInViewport=function(){let elementTop=$(this).offset().top;let elementBottom=elementTop+$(this).outerHeight();let viewportTop=$(window).scrollTop();let viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom;};function scrollStickySidebar(){$(window).scroll(function(){const scroll=$(this).scrollTop();setParentOrContainerHeight();setStickyElementScrollDefaultStyles();const length=parentElement.height()-
stickyElement.height()+
parentElement.offset().top;if(!window.matchMedia(mediaBreakPoint).matches){if(scroll<parentElement.offset().top){stickyElement.css({position:"absolute",top:"96px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("normal");}else if(!$('.block-field-blocknodearticlebody').isInViewport()){stickyElement.css({position:"absolute",top:"96px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("normal");}else{stickyElement.css({position:"fixed",top:"165px",bottom:"auto"});$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("normal");}}else{setStickyElementMobileDefaultStyles();$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").removeClass("sticky");$(".node.node--type-article .article_node_template>._article_new_layout .layout__region--first").addClass("normal");}});}
function setStickyElementScrollDefaultStyles(){stickyElement.css({height:heightString,width:widthString,"max-width":widthString});}
function setStickyElementMobileDefaultStyles(){setParentToAutoHeight();stickyElement.css({position:"relative",top:"auto",bottom:"auto",height:"auto",width:"100%","max-width":"16.688em"});}
function setParentOrContainerHeight(){if(height<container.height()){parentElement.css({height:containerHeight});}else{parentElement.css({height:heightString});container.css({height:heightString});}}
function setParentToAutoHeight(){parentElement.css({height:"auto"});}
scrollStickySidebar($);$(window).resize(scrollStickySidebar);if($(".methodology_authorinfo").length>0){$("body").addClass("path-article-methodology");}else{$("body").removeClass("path-article-methodology");}
$.each($(".dynamic-block-articles"),function(index,thisdiv){$(thisdiv).removeClass("_full_width_webinars");const htmltag=$(thisdiv).attr("htmltag")||"p";const beforeafter=$(thisdiv).attr("beforeafter")||"after";const position=$(thisdiv).attr("position");let counter=0;var parents=["DIV"];let divadded=false;if($(thisdiv).find("._webinars").length>0){$(thisdiv).addClass("_full_width_webinars");}
$.each($(".block-field-blocknodearticlebody").find(htmltag),function(indextag,insidearticle){if(parents.includes($(insidearticle).parent()[0].nodeName)&&$(insidearticle).html().trim()!==""&&$(insidearticle).parent().parent().parent().hasClass("block-field-blocknodearticlebody")){if(counter==parseInt(position)-1){if(beforeafter=="before"){$(thisdiv).insertBefore($(insidearticle));}else{$(thisdiv).insertAfter($(insidearticle));}
divadded=true;$(".dynamic-block-articles").removeClass("d-none");}
counter++;}});if(divadded===false){$(".dynamic-block-articles").addClass("d-none");}
$.each($(".dfp-ads-inview"),function(index,dis){let finddfpid=$(dis).attr("dfp-id");if($(dis).attr("type")=="text/html"){googletag.cmd.push(function(){googletag.display(finddfpid);});}});});if(navigator.appVersion.indexOf("Win")!=-1){jQuery('body').addClass('window-os');}
if(navigator.platform.toUpperCase().indexOf('MAC')>=0){jQuery('body').addClass('mac-os');}
if(navigator.appVersion.indexOf("Linux")!=-1){jQuery('body').addClass('linux-os');}
let dfp_position="";let dfp_scroll_depth=0;let screenHeight=$(document).height();let dfp_hide_time=0;let title_dom=$('.block-field-blocknodearticletitle .content h1');title_dom.removeClass('above_title_extra_space');dfp_position=$(".stickydfp").attr("data-dfpposition");dfp_scroll_depth=$(".stickydfp").attr("data-dfpdepthscroll");dfp_scroll_depth=parseInt(dfp_scroll_depth)*0.01*screenHeight;dfp_hide_time=$(".stickydfp").attr("data-dfphidetime");dfp_hide_time=parseInt(dfp_hide_time)*1000;if(dfp_scroll_depth>0){addDFPonScroll();}
if(dfp_hide_time>0){addDFPonTimeBased();}
if(dfp_position=='above_title'){title_dom.addClass('above_title_extra_space');$(".stickydfp").addClass('dfp_above_title').insertBefore(title_dom);}
if(dfp_position=='below_gsack_tray'){$(".stickydfp").addClass('dfp_below_gsack');if(!$("#bottomApplyfooterdiv").hasClass("d-none")){$("#bottomApplyfooterdiv").addClass("article-gsack-moveup");}
$(".stickydfp").insertAfter($("#bottomApplyfooterdiv"));}
if(dfp_position=='above_gsack_tray'){$(".stickydfp").addClass('dfp_above_gsack');if(!$("#bottomApplyfooterdiv").hasClass("d-none")){$("#bottomApplyfooterdiv").addClass("article-gsack-movedown");}
$(".stickydfp").before($("#bottomApplyfooterdiv"));}
function addDFPonScroll(){let scrollAmountDfp=0;$(window).scroll(function(event){scrollAmountDfp=$(window).scrollTop();if(scrollAmountDfp>dfp_scroll_depth){$(".stickydfp").addClass('d-none');}else{$(".stickydfp").removeClass('d-none');}});}
function addDFPonTimeBased(){setTimeout(function(){$(".stickydfp").addClass('d-none');},dfp_hide_time);}});}};})(jQuery,Drupal);;Drupal.debounce=function(func,wait,immediate){var timeout=void 0;var result=void 0;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
var context=this;var later=function later(){timeout=null;if(!immediate){result=func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);}
return result;};};;(function($,Drupal,debounce){$.fn.drupalGetSummary=function(){var callback=this.data('summaryCallback');return this[0]&&callback?$.trim(callback(this[0])):'';};$.fn.drupalSetSummary=function(callback){var self=this;if(typeof callback!=='function'){var val=callback;callback=function callback(){return val;};}
return this.data('summaryCallback',callback).off('formUpdated.summary').on('formUpdated.summary',function(){self.trigger('summaryUpdated');}).trigger('summaryUpdated');};Drupal.behaviors.formSingleSubmit={attach:function attach(){function onFormSubmit(e){var $form=$(e.currentTarget);var formValues=$form.serialize();var previousValues=$form.attr('data-drupal-form-submit-last');if(previousValues===formValues){e.preventDefault();}else{$form.attr('data-drupal-form-submit-last',formValues);}}
$('body').once('form-single-submit').on('submit.singleSubmit','form:not([method~="GET"])',onFormSubmit);}};function triggerFormUpdated(element){$(element).trigger('formUpdated');}
function fieldsList(form){var $fieldList=$(form).find('[name]').map(function(index,element){return element.getAttribute('id');});return $.makeArray($fieldList);}
Drupal.behaviors.formUpdated={attach:function attach(context){var $context=$(context);var contextIsForm=$context.is('form');var $forms=(contextIsForm?$context:$context.find('form')).once('form-updated');var formFields=void 0;if($forms.length){$.makeArray($forms).forEach(function(form){var events='change.formUpdated input.formUpdated ';var eventHandler=debounce(function(event){triggerFormUpdated(event.target);},300);formFields=fieldsList(form).join(',');form.setAttribute('data-drupal-form-fields',formFields);$(form).on(events,eventHandler);});}
if(contextIsForm){formFields=fieldsList(context).join(',');var currentFields=$(context).attr('data-drupal-form-fields');if(formFields!==currentFields){triggerFormUpdated(context);}}},detach:function detach(context,settings,trigger){var $context=$(context);var contextIsForm=$context.is('form');if(trigger==='unload'){var $forms=(contextIsForm?$context:$context.find('form')).removeOnce('form-updated');if($forms.length){$.makeArray($forms).forEach(function(form){form.removeAttribute('data-drupal-form-fields');$(form).off('.formUpdated');});}}}};Drupal.behaviors.fillUserInfoFromBrowser={attach:function attach(context,settings){var userInfo=['name','mail','homepage'];var $forms=$('[data-user-info-from-browser]').once('user-info-from-browser');if($forms.length){userInfo.forEach(function(info){var $element=$forms.find('[name='+info+']');var browserData=localStorage.getItem('Drupal.visitor.'+info);var emptyOrDefault=$element.val()===''||$element.attr('data-drupal-default-value')===$element.val();if($element.length&&emptyOrDefault&&browserData){$element.val(browserData);}});}
$forms.on('submit',function(){userInfo.forEach(function(info){var $element=$forms.find('[name='+info+']');if($element.length){localStorage.setItem('Drupal.visitor.'+info,$element.val());}});});}};var handleFragmentLinkClickOrHashChange=function handleFragmentLinkClickOrHashChange(e){var url=void 0;if(e.type==='click'){url=e.currentTarget.location?e.currentTarget.location:e.currentTarget;}else{url=window.location;}
var hash=url.hash.substr(1);if(hash){var $target=$('#'+hash);$('body').trigger('formFragmentLinkClickOrHashChange',[$target]);setTimeout(function(){return $target.trigger('focus');},300);}};var debouncedHandleFragmentLinkClickOrHashChange=debounce(handleFragmentLinkClickOrHashChange,300,true);$(window).on('hashchange.form-fragment',debouncedHandleFragmentLinkClickOrHashChange);$(document).on('click.form-fragment','a[href*="#"]',debouncedHandleFragmentLinkClickOrHashChange);})(jQuery,Drupal,Drupal.debounce);;(function($,Drupal){var states={postponed:[]};Drupal.states=states;function invert(a,invertState){return invertState&&typeof a!=='undefined'?!a:a;}
function _compare2(a,b){if(a===b){return typeof a==='undefined'?a:true;}
return typeof a==='undefined'||typeof b==='undefined';}
function ternary(a,b){if(typeof a==='undefined'){return b;}
if(typeof b==='undefined'){return a;}
return a&&b;}
Drupal.behaviors.states={attach:function attach(context,settings){var $states=$(context).find('[data-drupal-states]');var il=$states.length;var _loop=function _loop(i){var config=JSON.parse($states[i].getAttribute('data-drupal-states'));Object.keys(config||{}).forEach(function(state){new states.Dependent({element:$($states[i]),state:states.State.sanitize(state),constraints:config[state]});});};for(var i=0;i<il;i++){_loop(i);}
while(states.postponed.length){states.postponed.shift()();}}};states.Dependent=function(args){var _this=this;$.extend(this,{values:{},oldValue:null},args);this.dependees=this.getDependees();Object.keys(this.dependees||{}).forEach(function(selector){_this.initializeDependee(selector,_this.dependees[selector]);});};states.Dependent.comparisons={RegExp:function RegExp(reference,value){return reference.test(value);},Function:function Function(reference,value){return reference(value);},Number:function Number(reference,value){return typeof value==='string'?_compare2(reference.toString(),value):_compare2(reference,value);}};states.Dependent.prototype={initializeDependee:function initializeDependee(selector,dependeeStates){var _this2=this;this.values[selector]={};Object.keys(dependeeStates).forEach(function(i){var state=dependeeStates[i];if($.inArray(state,dependeeStates)===-1){return;}
state=states.State.sanitize(state);_this2.values[selector][state.name]=null;$(selector).on('state:'+state,{selector:selector,state:state},function(e){_this2.update(e.data.selector,e.data.state,e.value);});new states.Trigger({selector:selector,state:state});});},compare:function compare(reference,selector,state){var value=this.values[selector][state.name];if(typeof value=='object'){if(value!=null&&value.length==0){value='';}}
if(reference.constructor.name in states.Dependent.comparisons){return states.Dependent.comparisons[reference.constructor.name](reference,value);}
return _compare2(reference,value);},update:function update(selector,state,value){if(value!==this.values[selector][state.name]){this.values[selector][state.name]=value;this.reevaluate();}},reevaluate:function reevaluate(){var value=this.verifyConstraints(this.constraints);if(value!==this.oldValue){this.oldValue=value;value=invert(value,this.state.invert);this.element.trigger({type:'state:'+this.state,value:value,trigger:true});}},verifyConstraints:function verifyConstraints(constraints,selector){var result=void 0;if($.isArray(constraints)){var hasXor=$.inArray('xor',constraints)===-1;var len=constraints.length;for(var i=0;i<len;i++){if(constraints[i]!=='xor'){var constraint=this.checkConstraints(constraints[i],selector,i);if(constraint&&(hasXor||result)){return hasXor;}
result=result||constraint;}}}else if($.isPlainObject(constraints)){for(var n in constraints){if(constraints.hasOwnProperty(n)){result=ternary(result,this.checkConstraints(constraints[n],selector,n));if(result===false){return false;}}}}
return result;},checkConstraints:function checkConstraints(value,selector,state){if(typeof state!=='string'||/[0-9]/.test(state[0])){state=null;}else if(typeof selector==='undefined'){selector=state;state=null;}
if(state!==null){state=states.State.sanitize(state);return invert(this.compare(value,selector,state),state.invert);}
return this.verifyConstraints(value,selector);},getDependees:function getDependees(){var cache={};var _compare=this.compare;this.compare=function(reference,selector,state){(cache[selector]||(cache[selector]=[])).push(state.name);};this.verifyConstraints(this.constraints);this.compare=_compare;return cache;}};states.Trigger=function(args){$.extend(this,args);if(this.state in states.Trigger.states){this.element=$(this.selector);if(!this.element.data('trigger:'+this.state)){this.initialize();}}};states.Trigger.prototype={initialize:function initialize(){var _this3=this;var trigger=states.Trigger.states[this.state];if(typeof trigger==='function'){trigger.call(window,this.element);}else{Object.keys(trigger||{}).forEach(function(event){_this3.defaultTrigger(event,trigger[event]);});}
this.element.data('trigger:'+this.state,true);},defaultTrigger:function defaultTrigger(event,valueFn){var oldValue=valueFn.call(this.element);this.element.on(event,$.proxy(function(e){var value=valueFn.call(this.element,e);if(oldValue!==value){this.element.trigger({type:'state:'+this.state,value:value,oldValue:oldValue});oldValue=value;}},this));states.postponed.push($.proxy(function(){this.element.trigger({type:'state:'+this.state,value:oldValue,oldValue:null});},this));}};states.Trigger.states={empty:{keyup:function keyup(){return this.val()==='';}},checked:{change:function change(){var checked=false;this.each(function(){checked=$(this).prop('checked');return!checked;});return checked;}},value:{keyup:function keyup(){if(this.length>1){return this.filter(':checked').val()||false;}
return this.val();},change:function change(){if(this.length>1){return this.filter(':checked').val()||false;}
return this.val();}},collapsed:{collapsed:function collapsed(e){return typeof e!=='undefined'&&'value'in e?e.value:!this.is('[open]');}}};states.State=function(state){this.pristine=state;this.name=state;var process=true;do{while(this.name.charAt(0)==='!'){this.name=this.name.substring(1);this.invert=!this.invert;}
if(this.name in states.State.aliases){this.name=states.State.aliases[this.name];}else{process=false;}}while(process);};states.State.sanitize=function(state){if(state instanceof states.State){return state;}
return new states.State(state);};states.State.aliases={enabled:'!disabled',invisible:'!visible',invalid:'!valid',untouched:'!touched',optional:'!required',filled:'!empty',unchecked:'!checked',irrelevant:'!relevant',expanded:'!collapsed',open:'!collapsed',closed:'collapsed',readwrite:'!readonly'};states.State.prototype={invert:false,toString:function toString(){return this.name;}};var $document=$(document);$document.on('state:disabled',function(e){if(e.trigger){$(e.target).prop('disabled',e.value).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggleClass('form-disabled',e.value).find('select, input, textarea').prop('disabled',e.value);}});$document.on('state:required',function(e){if(e.trigger){if(e.value){var label='label'+(e.target.id?'[for='+e.target.id+']':'');var $label=$(e.target).attr({required:'required','aria-required':'true'}).closest('.js-form-item, .js-form-wrapper').find(label);if(!$label.hasClass('js-form-required').length){$label.addClass('js-form-required form-required');}}else{$(e.target).removeAttr('required aria-required').closest('.js-form-item, .js-form-wrapper').find('label.js-form-required').removeClass('js-form-required form-required');}}});$document.on('state:visible',function(e){if(e.trigger){$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggle(e.value);}});$document.on('state:checked',function(e){if(e.trigger){$(e.target).prop('checked',e.value);}});$document.on('state:collapsed',function(e){if(e.trigger){if($(e.target).is('[open]')===e.value){$(e.target).find('> summary').trigger('click');}}});})(jQuery,Drupal);;